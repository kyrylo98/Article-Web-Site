{% extends "base.html" %}

{% block content %}
<section class="section container">
  <h1 class="page-title">Articles</h1>

  <div class="chips">
  <a class="chip {% if not active_category %}active{% endif %}"
     href="{% url 'articles:index' %}">All</a>
   {% for cat in categories %}
    <a class="chip {% if active_category == cat.pk|stringformat:'s' %}active{% endif %}"
       href="{% url 'articles:index' %}?category={{ cat.pk }}">
      {{ cat.name }}
    </a>
    {% endfor %}
  </div>

  <div class="card-grid">
    {% for item in page_obj %}
      <article class="card">
        <a href="{% url 'articles:detail' item.pk %}">
          <h3 class="m0">{{ item.title }}</h3>
        </a>
        <p class="muted m0">{{ item.description }}</p>
         <p class="badge m0">
          {% with pub=item.published_at|date:"M j, Y" %}
            {{ pub }} â€¢ {{ item.reading_minutes }} min read
          {% endwith %}
         </p>


        {% if request.user.is_authenticated %}
          {% if request.user.is_staff or request.user.pk == item.author_id %}
            <div class="actions mt">
              <a class="cta" href="{% url 'articles:edit' item.pk %}">Edit</a>
              <a class="cta secondary"
                 href="{% url 'articles:delete' item.pk %}">Delete</a>
            </div>
          {% endif %}
        {% endif %}
      </article>
    {% empty %}
      <p>No articles yet.</p>
    {% endfor %}
  </div>

  {% include "includes/pagination.html" %}
</section>
{% endblock %}
<section class="section container hero-gradient" aria-labelledby="seo-h1">
  <h1 id="seo-h1" class="page-title">
    Build faster with clear, practical articles
  </h1>
  <p class="page-sub">
    Short, hands-on guides on programming, web development, and
    product design. Real-world examples, checklists, and how-tos
    to level up your projects.
  </p>
</section>

